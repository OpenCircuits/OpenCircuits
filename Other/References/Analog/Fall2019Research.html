<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Other/References/Analog/Fall2019Research" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Fall 2019 Research | OpenCircuits</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.opencircuits.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.opencircuits.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.opencircuits.com/Other/References/Analog/Fall2019Research"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Fall 2019 Research | OpenCircuits"><meta data-rh="true" name="description" content="Presentation slides"><meta data-rh="true" property="og:description" content="Presentation slides"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.opencircuits.com/Other/References/Analog/Fall2019Research"><link data-rh="true" rel="alternate" href="https://docs.opencircuits.com/Other/References/Analog/Fall2019Research" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.opencircuits.com/Other/References/Analog/Fall2019Research" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Overview","item":"https://docs.opencircuits.com/Other/References/"},{"@type":"ListItem","position":2,"name":"Fall 2019 Research","item":"https://docs.opencircuits.com/Other/References/Analog/Fall2019Research"}]}</script><link rel="stylesheet" href="/assets/css/styles.645035e9.css">
<script src="/assets/js/runtime~main.2ecfb891.js" defer="defer"></script>
<script src="/assets/js/main.069b8e8c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/icon.svg"><link rel="preload" as="image" href="/img/analog_logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_PguP" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/icon.svg" alt="OpenCircuits Logo" class="themedComponent_cDtm themedComponent--light_OQnZ"><img src="/img/icon.svg" alt="OpenCircuits Logo" class="themedComponent_cDtm themedComponent--dark_xMs9"></div><b class="navbar__title text--truncate">OpenCircuits</b></a><a class="navbar__item navbar__link" href="/">Docs</a><a class="navbar__item navbar__link" href="/API">API</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Other/References">Other</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/OpenCircuits/OpenCircuits" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_vt91"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_GMOt colorModeToggle_Hy89"><button class="clean-btn toggleButton_LxXo toggleButtonDisabled_GmWp" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_p53I lightToggleIcon_L5HL"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_p53I darkToggleIcon_ByDZ"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_p53I systemToggleIcon_FzYE"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_O2ZP"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_RZ1C"><div class="docsWrapper_mY6s"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i4Sw" type="button"></button><div class="docRoot_JUGg"><aside class="theme-doc-sidebar-container docSidebarContainer_Sy0_"><div class="sidebarViewport_Jly1"><div class="sidebar_bTcv"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_k49h"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/Other/References">Overview</a><button aria-label="Collapse sidebar category &#x27;Overview&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/Other/References/Analog/Fall2019Research">Analog</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Other/References/Analog/Fall2019Research">Fall 2019 Research</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Other/References/Analog/UsingNGSpice">Using NGSpice</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Other/References/GAuthSetup">GAuth Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Other/References/GCPDatastoreSetup">GCP Datastore Setup</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Other/DesignDocs/CircuitToExpression">Design Docs</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_nnGz"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_tUPg"><div class="docItemContainer_JdM5"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_U1kF" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_R48O"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/Other/References"><span>Overview</span></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Analog</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Fall 2019 Research</span></li></ul></nav><div class="tocCollapsible_IeVX theme-doc-toc-mobile tocMobile_lFE8"><button type="button" class="clean-btn tocCollapsibleButton_oQ1m">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Fall 2019 Research</h1></header><h3 class="anchor anchorWithStickyNavbar_mAk_" id="presentation-slides"><a href="https://docs.google.com/presentation/d/19Gi6qvdddrxKpm5C6mPzxLQkS1loJMsnq5jjXHL4LS0" target="_blank" rel="noopener noreferrer">Presentation slides</a><a href="#presentation-slides" class="hash-link" aria-label="Direct link to presentation-slides" title="Direct link to presentation-slides">​</a></h3>
<img src="/img/analog_logo.svg" width="800" style="margin:40px 0px">
<h3 class="anchor anchorWithStickyNavbar_mAk_" id="fall-2019">Fall 2019<a href="#fall-2019" class="hash-link" aria-label="Direct link to Fall 2019" title="Direct link to Fall 2019">​</a></h3>
<h2 class="anchor anchorWithStickyNavbar_mAk_" id="team">Team:<a href="#team" class="hash-link" aria-label="Direct link to Team:" title="Direct link to Team:">​</a></h2>
<ul>
<li><a href="https://github.com/Rylander77" target="_blank" rel="noopener noreferrer">Rylan Gupta (Project Manager)</a></li>
<li><a href="https://github.com/Schmaj" target="_blank" rel="noopener noreferrer">Jonathan</a></li>
<li><a href="https://github.com/jumpingkangaroo" target="_blank" rel="noopener noreferrer">Christopher</a></li>
<li><a href="https://github.com/delaneyaqua" target="_blank" rel="noopener noreferrer">Delaney</a></li>
<li><a href="https://github.com/vincenthuang" target="_blank" rel="noopener noreferrer">Vincent</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_mAk_" id="project-goals">Project Goals:<a href="#project-goals" class="hash-link" aria-label="Direct link to Project Goals:" title="Direct link to Project Goals:">​</a></h2>
<ul>
<li>Add analog componentry and functionality to OpenCircuits</li>
<li>Add analog circuit analysis methods and tools</li>
<li>Incorporate interoperability between digital and analog components across both projects</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_mAk_" id="semester-goals">Semester Goals<a href="#semester-goals" class="hash-link" aria-label="Direct link to Semester Goals" title="Direct link to Semester Goals">​</a></h2>
<ul>
<li>Build off the work and research done during last semester (Spring 2019)</li>
<li>Research and assess different approaches to circuit analysis techniques and solutions</li>
<li>Develop plan to implement aforementioned solutions and / or utilize libraries to achieve the same goal</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_mAk_" id="different-approaches-to-circuit-analysis">Different Approaches to Circuit Analysis<a href="#different-approaches-to-circuit-analysis" class="hash-link" aria-label="Direct link to Different Approaches to Circuit Analysis" title="Direct link to Different Approaches to Circuit Analysis">​</a></h2>
<p>While these items are not necessarily mutually exclusive, here are different approaches that the team considered:</p>
<ul>
<li>Building our own framework and algorithms - starting with nodal analysis for DC steady state circuits with resistors. Go on to support for AC circuits with RMS analysis, and capacitors and inductors. Ideally, each framework is build to support the future stages of development. However, improvements could take a lot of refactoring, which is a trait the OpenCircuits project already suffers from.</li>
<li>Server side analysis - using API calls fromthe browser to send circuit schematics to an analysis server, this would make implementation for the client very trivial, and would allow us to use existing tools, such as SPICE, for circuit simulation running locally on the server. However, this approach is not ideal, as we would like to have the entire project contained to a web browser client without the need for server - client communication outside of GCP.</li>
<li>Open Source library / framework - Implementing an existing open source project into OpenCircuits EE could turn such an immensly challenging task into a task manageable for the likes of RCOS. With a framework / library / project with a simple enough API, OpenCircuits EE could utilize said library to do the underlying analysis. This would be ideal, given the scope of RCOS projects and goals that are achievable on a semester to semester basis.</li>
<li>SPICE implementation - SPICE is a standard framework for circuit analysis, used in many applications such as PSpice, LTSpice, NGSpice, amongst others. SPICE is used widely in educational settings for electrical engineering, and SPICE analysis has been around since 1973.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_mAk_" id="spice-algorithm-research">Spice Algorithm Research<a href="#spice-algorithm-research" class="hash-link" aria-label="Direct link to Spice Algorithm Research" title="Direct link to Spice Algorithm Research">​</a></h2>
<p>While researching our own SPICE algorithm implementation, the following sources were used to get a sense of what our own implementation of SPICE would entail:</p>
<p>Rashid, Muhammad H.. SPICE for Power Electronics and Electric Power. CRC Press, 2017.</p>
<p>“SPICE Algorithm Overview.” SPICE Algorithm Overview, ECircuit Center, 2003, <a href="http://www.ecircuitcenter.com/SpiceTopics/Overview/Overview.htm" target="_blank" rel="noopener noreferrer">www.ecircuitcenter.com/SpiceTopics/Overview/Overview.htm</a>.</p>
<p>Tuinenga, Paul W. Spice - a Guide to Circuit Simulation and Analysis Using PSpice. Simon &amp; Schuster, 1995.</p>
<p>Department of Electrical and Electronic Engineering of Imperial College London - EE 2.3: Semiconductor Modelling in SPICE Lecture: <a href="https://www.imperial.ac.uk/pls/portallive/docs/1/7292571.PDF" target="_blank" rel="noopener noreferrer">https://www.imperial.ac.uk/pls/portallive/docs/1/7292571.PDF</a></p>
<h2 class="anchor anchorWithStickyNavbar_mAk_" id="libraries--projects-considered">Libraries &amp; Projects Considered<a href="#libraries--projects-considered" class="hash-link" aria-label="Direct link to Libraries &amp; Projects Considered" title="Direct link to Libraries &amp; Projects Considered">​</a></h2>
<p>When considering projects, the following attributes were considered when researching each project:</p>
<ul class="contains-task-list containsTaskList_UxWm">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Language</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Documentation</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->API support</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->License</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->SPICE</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_mAk_" id="circuit-sandbox">Circuit Sandbox<a href="#circuit-sandbox" class="hash-link" aria-label="Direct link to Circuit Sandbox" title="Direct link to Circuit Sandbox">​</a></h3>
<p>Source: <a href="https://github.com/willymcallister/circuit-sandbox" target="_blank" rel="noopener noreferrer">https://github.com/willymcallister/circuit-sandbox</a></p>
<p>Demo: <a href="https://spinningnumbers.org/circuit-sandbox/index.html" target="_blank" rel="noopener noreferrer">https://spinningnumbers.org/circuit-sandbox/index.html</a></p>
<ul class="contains-task-list containsTaskList_UxWm">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Language: Javascript</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Documentation</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->API support</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->License - MIT License</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->SPICE</li>
</ul>
<p>The entirety of this projects analysis and component models are in <a href="https://github.com/willymcallister/circuit-sandbox/blob/master/js/schematic.js" target="_blank" rel="noopener noreferrer">one 6912 line long .js file</a>, making this a difficult project to easily understand and use. The project would be better off using a more organizaed project.</p>
<h3 class="anchor anchorWithStickyNavbar_mAk_" id="maxwell">Maxwell<a href="#maxwell" class="hash-link" aria-label="Direct link to Maxwell" title="Direct link to Maxwell">​</a></h3>
<p>Source: <a href="https://github.com/Aerlinger/maxwell" target="_blank" rel="noopener noreferrer">https://github.com/Aerlinger/maxwell</a></p>
<p>Demo: <a href="http://circuitlab.herokuapp.com/" target="_blank" rel="noopener noreferrer">http://circuitlab.herokuapp.com/</a></p>
<ul class="contains-task-list containsTaskList_UxWm">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Language: Javascript</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Documentation</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->API support</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->License - MIT License</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->SPICE</li>
</ul>
<p>Maxwell has a much better layout and organization than Circuit Sandbox. Additionally, the project has a real-time graphing logger, and many example circuits. While there is also some API functionality, the project shows signs of incompleteness, such as lingering TODO&#x27;s and commented out code with no new commits in over 2 years. Ultimately, a more complete and perhaps actively developed library would be a better fit for OpenCircuits EE.</p>
<h3 class="anchor anchorWithStickyNavbar_mAk_" id="circuitjs1">circuitjs1<a href="#circuitjs1" class="hash-link" aria-label="Direct link to circuitjs1" title="Direct link to circuitjs1">​</a></h3>
<p>Source: <a href="https://github.com/pfalstad/circuitjs1" target="_blank" rel="noopener noreferrer">https://github.com/pfalstad/circuitjs1</a></p>
<p>Demo: <a href="http://www.falstad.com/circuit/" target="_blank" rel="noopener noreferrer">http://www.falstad.com/circuit/</a></p>
<ul class="contains-task-list containsTaskList_UxWm">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Language: Java, runs in <a href="http://www.gwtproject.org/overview.html" target="_blank" rel="noopener noreferrer">GWT</a></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Documentation</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->API support</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->License - GNU GPL License</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->SPICE</li>
</ul>
<p>Circuitjs1 also has a real-time graphing logger, and many example circuits. This project also has unique features, such as an audio output for signals, as well as simulation and current speed control. However, there is no API documentation.</p>
<h3 class="anchor anchorWithStickyNavbar_mAk_" id="ngspice">NGSpice<a href="#ngspice" class="hash-link" aria-label="Direct link to NGSpice" title="Direct link to NGSpice">​</a></h3>
<p>Source: <a href="https://sourceforge.net/projects/ngspice/" target="_blank" rel="noopener noreferrer">https://sourceforge.net/projects/ngspice/</a></p>
<ul class="contains-task-list containsTaskList_UxWm">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Language: C</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Documentation</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->API support</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->License - New BSD license</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->SPICE</li>
</ul>
<p>With a JavaScript wrapper for the C code, such as a GWT type project, node module, or WebAssembly, we could use the NGSpice C code in our project in the browser. NGSpice is widely used in many applications today, and is actively developed. There is also a lot of documentation for using the project as an API.</p>
<h3 class="anchor anchorWithStickyNavbar_mAk_" id="conclusion-from-libray-and-project-research">Conclusion from libray and project research<a href="#conclusion-from-libray-and-project-research" class="hash-link" aria-label="Direct link to Conclusion from libray and project research" title="Direct link to Conclusion from libray and project research">​</a></h3>
<p>While a greater challenge than using an existing open source library written in JavaScript, the team decided that SPICE analysis. The following section details how we could use NGSpice in OpenCircuits EE moving forward.</p>
<h1>NGSpice Research</h1>
<h2 class="anchor anchorWithStickyNavbar_mAk_" id="ngspice-summary">NGSpice Summary<a href="#ngspice-summary" class="hash-link" aria-label="Direct link to NGSpice Summary" title="Direct link to NGSpice Summary">​</a></h2>
<p>NGSpice is a popular open source circuit simulation library. It is written in C, and is used as the back-end for multiple popular commercial circuit simulators and design tools. NGSpice uses a modified BSD license that permits us to use it. It is very well documented, with a comprehensive manual that was updated as recently as September. The main section in this manual that will be relevant to us is the section on its use as a shared library.</p>
<h2 class="anchor anchorWithStickyNavbar_mAk_" id="ngspice-as-shared-library">NGSpice as Shared Library<a href="#ngspice-as-shared-library" class="hash-link" aria-label="Direct link to NGSpice as Shared Library" title="Direct link to NGSpice as Shared Library">​</a></h2>
<p>If we used NGSpice as a library, we would have a C wrapper that would take in the netlist of the circuit from our typescript code, translate this netlist into the structs that NGSpice uses, and  translate the output back into something that could be returned to our typescript code. Here, we are going to briefly go over some aspects of using NGSPice as a shared library, including the structs it uses, the netlist format, and the functions that would be called by our wrapper.</p>
<h4 class="anchor anchorWithStickyNavbar_mAk_" id="netlist-format">Netlist Format<a href="#netlist-format" class="hash-link" aria-label="Direct link to Netlist Format" title="Direct link to Netlist Format">​</a></h4>
<p>The basic netlist we would pass to NGSpice is an array of strings (char** in C). The first line in the netlist is the of the circuit. An example of this is &quot;.TITLE Simple Resistor Circuit&quot;. The last line of the netlist is just &quot;.end&quot;. The rest of the lines of the netlist are each a component of the circuit. In each line is an element name, the nodes its connected to, and any parameter values.</p>
<p>The first part of the line is the element name. The first letter of the element name specifies the type of component, while the rest make up the unique identifier of the component. For example, a resistor could be R1, ROUT, Rin, etc.</p>
<p>The second part of the line are the nodes the elements are connected to. A node name is an arbitrary string, case insensitive, that does not start with a number. There must be one string that is named &quot;0&quot; that is used as the ground node. For most &quot;classic&quot; analog components, two nodes are specified.</p>
<p>The third part of the line is the parameter value. This is used to specify the resistance, capacitance, etc. SI prefixes can be used to specify sizes. For example, 1M is converted to 1,000,000 and 1u is converted to 0.000001.</p>
<p>Below is a brief list of the components that will likely be useful for a simple analog simulation implementation. There are other types of components that we could also implement, however they require more specific models to simulate different type of that component. For example, for a BJT transisitor, there are different models for BJTs made by different manufacturers. They have different characteristics that makes them behave differently when being simulated.</p>
<table><thead><tr><th style="text-align:center">Code</th><th style="text-align:center">Model Type</th></tr></thead><tbody><tr><td style="text-align:center">I</td><td style="text-align:center">Current Source</td></tr><tr><td style="text-align:center">V</td><td style="text-align:center">Voltage Source</td></tr><tr><td style="text-align:center">R</td><td style="text-align:center">Resistor</td></tr><tr><td style="text-align:center">C</td><td style="text-align:center">Capacitor</td></tr><tr><td style="text-align:center">L</td><td style="text-align:center">Inductor</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_mAk_" id="simulation-commands">Simulation Commands<a href="#simulation-commands" class="hash-link" aria-label="Direct link to Simulation Commands" title="Direct link to Simulation Commands">​</a></h3>
<p>There are seven types of analysis in NGSpice, however we likely will only need to use three of them (at least at first). The simulation types we will likely want to support are DC Analysis, AC Small-Signal Analysis, and Transient Analysis.</p>
<p>DC Analysis is used to get the DC Operating Point and to perform a DC Sweep of a system. For DC Analysis, all time dependent components (such as capacitors and inductors) are taken as time -&gt; infinity. This opens capacitors and closes inductors. The SPICE than solves the circuit with the time independent components. A DC Sweep is the same thing, however this is performed across a range of DC values to find the response at different DC levels.</p>
<p>AC Small-Signal Analysis is sued to determine the frequency response over a given range of frequencies. This depends on the time dependent components. The main output for this kind of simulation is a transfer function of gain across the given range of frequencies.</p>
<p>Transient Analysis is used to calculate the output of the circuit as a function of time. For example, we could make a simple RC circuit and then see how long it takes the capacitor to charge.</p>
<h3 class="anchor anchorWithStickyNavbar_mAk_" id="struct-formats">Struct Formats<a href="#struct-formats" class="hash-link" aria-label="Direct link to Struct Formats" title="Direct link to Struct Formats">​</a></h3>
<p>In order to allow use of its shared library, NGSpice defines certain structs that it used to transfer data into and out of a simulation. This is a brief overview of some of the structs used.</p>
<p>The vector_info struct is a basic data carrying structure to return the data when the client calls the ngGet_Vec_Info function on a given vector name. It contains the real, complex, and length along with the basic name data.</p>
<p>Two struct types that are often used together are vecinfo and vecinfoall. vecinfoall is used to return the data from a plotting call. It contains some basic information about the plots, as well as an array of vecinfo that contain the data in the plot. Each vecinfo struct contains some basic information about the vector, as well as a pointer to the actual vector that contains the data.</p>
<p>The last two structs are similar in relationship to the vecinfo and vecinfoall ones above. vecvaluesll contains some basic information about itself, as well as an array of vecvalues. Each vecvalue contains a name, a real value, an imaginary value, as well as some other basic information. They are used to return new data points of an already existing plot.</p>
<p>These strucures will be used by our wrapper to communicate with the actual library. That wrapper will need to translate these structs into formats that we could then return to the typescript application.</p>
<h3 class="anchor anchorWithStickyNavbar_mAk_" id="shared-library-functions">Shared Library Functions<a href="#shared-library-functions" class="hash-link" aria-label="Direct link to Shared Library Functions" title="Direct link to Shared Library Functions">​</a></h3>
<p>What follows is a brief overview of some of the different functions that would be used in our wrapper to implement the NGSpice shared library. They extensively use callback functions, so our implementation will need to provide update and notification functions that we can pass as callback functions, in order to respond to completed simulations, send output, and read errors.</p>
<p>ngSpice_Init is the function that initializes the simulator. This function also takes as parameters mulitple callback functions in order to process output. ngSpice_Circ is used to input the netlist. It takes as input a char** that describes the circuit line by line. ngSpice_Command is used to add components and start a simulation. ngSpice_AllPlots returns an array of the plots that were generated.</p>
<p>Below, you can see a basic diagram of what the implementation would look like.
<img decoding="async" loading="lazy" src="https://i.imgur.com/VoRhG9C.png" alt="NGSpice Implementation Diagram" class="img_G9YA"></p>
<h2 class="anchor anchorWithStickyNavbar_mAk_" id="node-gyp">node-gyp<a href="#node-gyp" class="hash-link" aria-label="Direct link to node-gyp" title="Direct link to node-gyp">​</a></h2>
<p>node-gyp is one potential way we could implement the NGSPice library and our wrapper class in the browser. It uses a fork of the GYP library, and it can be used to compile Node.js native addons. Ideally, this would allow us to run our wrapper code and the NGSpice library in the browser. There are some potential issues here, such as using it with a large and complex library such as NGSpice. However it is definitely a potential solution that is worth looking at in more detail.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/OpenCircuits/OpenCircuits/edit/master/docs/Other/References/Analog/Fall2019Research.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_OPjY" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_HHDS"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Other/References"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Other/References/Analog/UsingNGSpice"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Using NGSpice</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_xXhp thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#presentation-slides" class="table-of-contents__link toc-highlight">Presentation slides</a></li><li><a href="#fall-2019" class="table-of-contents__link toc-highlight">Fall 2019</a></li><li><a href="#team" class="table-of-contents__link toc-highlight">Team:</a></li><li><a href="#project-goals" class="table-of-contents__link toc-highlight">Project Goals:</a></li><li><a href="#semester-goals" class="table-of-contents__link toc-highlight">Semester Goals</a></li><li><a href="#different-approaches-to-circuit-analysis" class="table-of-contents__link toc-highlight">Different Approaches to Circuit Analysis</a></li><li><a href="#spice-algorithm-research" class="table-of-contents__link toc-highlight">Spice Algorithm Research</a></li><li><a href="#libraries--projects-considered" class="table-of-contents__link toc-highlight">Libraries &amp; Projects Considered</a><ul><li><a href="#circuit-sandbox" class="table-of-contents__link toc-highlight">Circuit Sandbox</a></li><li><a href="#maxwell" class="table-of-contents__link toc-highlight">Maxwell</a></li><li><a href="#circuitjs1" class="table-of-contents__link toc-highlight">circuitjs1</a></li><li><a href="#ngspice" class="table-of-contents__link toc-highlight">NGSpice</a></li><li><a href="#conclusion-from-libray-and-project-research" class="table-of-contents__link toc-highlight">Conclusion from libray and project research</a></li></ul></li><li><a href="#ngspice-summary" class="table-of-contents__link toc-highlight">NGSpice Summary</a></li><li><a href="#ngspice-as-shared-library" class="table-of-contents__link toc-highlight">NGSpice as Shared Library</a><ul><li><a href="#simulation-commands" class="table-of-contents__link toc-highlight">Simulation Commands</a></li><li><a href="#struct-formats" class="table-of-contents__link toc-highlight">Struct Formats</a></li><li><a href="#shared-library-functions" class="table-of-contents__link toc-highlight">Shared Library Functions</a></li></ul></li><li><a href="#node-gyp" class="table-of-contents__link toc-highlight">node-gyp</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/Introduction/GettingStarted/Installation">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/API">API</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/bCV2tYFer9" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_vt91"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/OpenCircuits/OpenCircuits" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_vt91"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 OpenCircuits. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>